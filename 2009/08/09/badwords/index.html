<!DOCTYPE html><html><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=HandheldFriendly content=True><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta name=description content=Badwords><meta name=keywords content=Tutorial,Badwords,Kohana><meta property=og:type content=article><meta property=og:title content=Badwords><meta property=og:url content=http://arie.malam.or.id/2009/08/09/badwords/index.html><meta property=og:site_name content="Log Channel"><meta property=og:description content=Badwords><meta property=og:updated_time content=2017-05-20T09:20:43.327Z><meta name=twitter:card content=summary><meta name=twitter:title content=Badwords><meta name=twitter:description content=Badwords><link rel="shortcut icon" href=/favicon.ico><link rel=icon type=image/png href=/images/favicon-192x192.png sizes=192x192><link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png><title>Badwords</title><link rel=stylesheet href=/css/style.css></head><body><div id=header-post><a id=menu-icon href=#><i class="fa fa-bars fa-lg"></i> </a><a id=menu-icon-tablet href=#><i class="fa fa-bars fa-lg"></i> </a><a id=top-icon-tablet href=# onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style=display:none><i class="fa fa-chevron-up fa-lg"></i> </a><span id=menu><span id=nav><ul><li><a href=/ >Home</a></li><li><a href=/archives/ >Blog</a></li><li><a href=/about/ >About</a></li><li><a href=/contact/ >Contact</a></li></ul></span><br><span id=actions><ul><li><a class=icon href=/2009/08/19/di-postingan-lama/ ><i class="fa fa-chevron-left" aria-hidden=true onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class=icon href=/2009/07/01/ke-kt-lagi/ ><i class="fa fa-chevron-right" aria-hidden=true onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class=icon href=# onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden=true onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class=icon href=#><i class="fa fa-share-alt" aria-hidden=true onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id=i-prev class=info style=display:none>Previous post</span> <span id=i-next class=info style=display:none>Next post</span> <span id=i-top class=info style=display:none>Back to top</span> <span id=i-share class=info style=display:none>Share post</span></span><br><div id=share style="display: none"><ul><li><a class=icon href="http://www.facebook.com/sharer.php?u=http://arie.malam.or.id/2009/08/09/badwords/"><i class="fa fa-facebook" aria-hidden=true></i></a></li><li><a class=icon href="https://twitter.com/share?url=http://arie.malam.or.id/2009/08/09/badwords/&text=Badwords"><i class="fa fa-twitter" aria-hidden=true></i></a></li><li><a class=icon href="http://www.linkedin.com/shareArticle?url=http://arie.malam.or.id/2009/08/09/badwords/&title=Badwords"><i class="fa fa-linkedin" aria-hidden=true></i></a></li><li><a class=icon href="https://pinterest.com/pin/create/bookmarklet/?url=http://arie.malam.or.id/2009/08/09/badwords/&is_video=false&description=Badwords"><i class="fa fa-pinterest" aria-hidden=true></i></a></li><li><a class=icon href="mailto:?subject=Badwords&body=Check out this article: http://arie.malam.or.id/2009/08/09/badwords/"><i class="fa fa-envelope" aria-hidden=true></i></a></li><li><a class=icon href="https://getpocket.com/save?url=http://arie.malam.or.id/2009/08/09/badwords/&title=Badwords"><i class="fa fa-get-pocket" aria-hidden=true></i></a></li><li><a class=icon href="http://reddit.com/submit?url=http://arie.malam.or.id/2009/08/09/badwords/&title=Badwords"><i class="fa fa-reddit" aria-hidden=true></i></a></li><li><a class=icon href="http://www.stumbleupon.com/submit?url=http://arie.malam.or.id/2009/08/09/badwords/&title=Badwords"><i class="fa fa-stumbleupon" aria-hidden=true></i></a></li><li><a class=icon href="http://digg.com/submit?url=http://arie.malam.or.id/2009/08/09/badwords/&title=Badwords"><i class="fa fa-digg" aria-hidden=true></i></a></li><li><a class=icon href="http://www.tumblr.com/share/link?url=http://arie.malam.or.id/2009/08/09/badwords/&name=Badwords&description=Badwords"><i class="fa fa-tumblr" aria-hidden=true></i></a></li></ul></div><div id=toc></div></span></div><div class="content index width mx-auto px2 my4"><article class=post itemscope itemtype=http://schema.org/BlogPosting><header><h1 class=posttitle itemprop="name headline">Badwords</h1><div class=meta><span class=author itemprop=author itemscope itemtype=http://schema.org/Person><span itemprop=name>Arie W. Subagja</span></span><div class=postdate><time datetime=2009-08-09T08:11:00.000Z itemprop=datePublished>2009-08-09</time></div><div class=article-tag><i class="fa fa-tag"></i> <a class=tag-link href=/tags/Badwords/ >Badwords</a>, <a class=tag-link href=/tags/Kohana/ >Kohana</a>, <a class=tag-link href=/tags/Tutorial/ >Tutorial</a></div></div></header><div class=content itemprop=articleBody><p>Bukan, bukan kata2 jorok koq, kalo kata2 jorok mah disini allowed koq :)</p><p>Tapi ini badwords untuk spam2, ya.. meskipun gw berhasil pake antispam, tapi cara kerjanya yg kemaren masukin komen dulu, baru cek, spam apa bukan.</p><p>Inget di <a class="reference external" href=http://wordpress.org target=_blank rel=noopener>wp</a> ada moderation_keys, kalo gw gak salah :D, gw juga pake yg gituan skr, gak.. gw gak liat gmn cara kerja mereka koq, gw ngira2 aja, jika ada kata2 yang gw masukn ke dalam list, komentar gak jadi di proses, tapi bakalan langsung di forward ke halaman depan aja.</p><p>Pertama, gw extends dulu valid helpernya, kira2 seperti ini:</p><pre class=literal-block>
class valid extends valid_Core
{
  static function nobadwords($comment)
  {
    $badwords = Options::instance()-&gt;badwords;
    $badwords = implode('|', array_map('trim', explode(&quot;\n&quot;, trim($badwords))));
    $comment  = trim(str_replace(&quot;\n&quot;, ' ', $comment));

    return (bool) ! preg_match(&quot;/{$badwords}/i&quot;, $comment);
  }
}
</pre><p>Lalu pada blog_comment controller gw ubah jadi kek gini:</p><pre class=literal-block>
$comment = Validation::factory($_POST)
           -&gt;add_rules('comment_author', 'required', 'length[3,100]')
           -&gt;add_rules('email', 'required', 'valid::email')
           -&gt;add_rules('comment', 'required', 'valid::nobadwords')
           ;

if ($comment-&gt;validate())
{
  // proses
}
</pre><p>Lumayan menghemat space database :P, soalnya yg kemaren aja, space yg kepake gara2 spam, udah mau sampe 20Mb..</p><p>hufftâ€¦</p></div></article><div class=blog-post-comments><div id=disqus_thread><noscript>Please enable JavaScript to view the <a href=//disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript></div></div></div><div id=footer-post-container><div id=footer-post><div id=nav-footer style="display: none"><ul><li><a href=/ >Home</a></li><li><a href=/archives/ >Blog</a></li><li><a href=/about/ >About</a></li><li><a href=/contact/ >Contact</a></li></ul></div><div id=toc-footer style="display: none"></div><div id=share-footer style="display: none"><ul><li><a class=icon href="http://www.facebook.com/sharer.php?u=http://arie.malam.or.id/2009/08/09/badwords/"><i class="fa fa-facebook fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://twitter.com/share?url=http://arie.malam.or.id/2009/08/09/badwords/&text=Badwords"><i class="fa fa-twitter fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://www.linkedin.com/shareArticle?url=http://arie.malam.or.id/2009/08/09/badwords/&title=Badwords"><i class="fa fa-linkedin fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://pinterest.com/pin/create/bookmarklet/?url=http://arie.malam.or.id/2009/08/09/badwords/&is_video=false&description=Badwords"><i class="fa fa-pinterest fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="mailto:?subject=Badwords&body=Check out this article: http://arie.malam.or.id/2009/08/09/badwords/"><i class="fa fa-envelope fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://getpocket.com/save?url=http://arie.malam.or.id/2009/08/09/badwords/&title=Badwords"><i class="fa fa-get-pocket fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://reddit.com/submit?url=http://arie.malam.or.id/2009/08/09/badwords/&title=Badwords"><i class="fa fa-reddit fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://www.stumbleupon.com/submit?url=http://arie.malam.or.id/2009/08/09/badwords/&title=Badwords"><i class="fa fa-stumbleupon fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://digg.com/submit?url=http://arie.malam.or.id/2009/08/09/badwords/&title=Badwords"><i class="fa fa-digg fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://www.tumblr.com/share/link?url=http://arie.malam.or.id/2009/08/09/badwords/&name=Badwords&description=Badwords"><i class="fa fa-tumblr fa-lg" aria-hidden=true></i></a></li></ul></div><div id=actions-footer><ul><li id=toc><a class=icon href=# onclick='$("#toc-footer").toggle();return false;'><i class="fa fa-list fa-lg" aria-hidden=true></i> TOC</a></li><li id=share><a class=icon href=# onclick='$("#share-footer").toggle();return false;'><i class="fa fa-share-alt fa-lg" aria-hidden=true></i> Share</a></li><li id=top style=display:none><a class=icon href=# onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up fa-lg" aria-hidden=true></i> Top</a></li><li id=menu><a class=icon href=# onclick='$("#nav-footer").toggle();return false;'><i class="fa fa-bars fa-lg" aria-hidden=true></i> Menu</a></li></ul></div></div></div><footer id=footer><div class=footer-left>Copyright &copy; 2017 Arie W. Subagja</div><div class=footer-right><nav><ul><li><a href=/ >Home</a></li><li><a href=/archives/ >Blog</a></li><li><a href=/about/ >About</a></li><li><a href=/contact/ >Contact</a></li></ul></nav></div></footer><link rel=stylesheet href=/lib/font-awesome/css/font-awesome.min.css><link rel=stylesheet href=/lib/meslo-LG/styles.css><link rel=stylesheet href=/lib/justified-gallery/justifiedGallery.min.css><script src=/lib/jquery/jquery.min.js></script><script src=/lib/justified-gallery/jquery.justifiedGallery.min.js></script><script src=/js/main.js></script><script>(function(i, s, o, g, r, a, m) {
      i['GoogleAnalyticsObject'] = r;
      i[r] = i[r] || function() {
        (i[r].q = i[r].q || []).push(arguments)
      }, i[r].l = 1 * new Date();
      a = s.createElement(o),
        m = s.getElementsByTagName(o)[0];
      a.async = 1;
      a.src = g;
      m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js',
      'ga');
    ga('create', 'UA-20386094-1', 'auto');
    ga('send', 'pageview');</script><script>var disqus_shortname = 'staticamorid';
    (function() {
      var dsq = document.createElement('script');
      dsq.type = 'text/javascript';
      dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName(
        'body')[0]).appendChild(dsq);
    }());</script></body></html>